<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>
  {% block title %}
    
  {% endblock title %}
    </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet"/>

  <style>
    :root{
      --sidebar-width: 250px;
      --sidebar-width-collapsed: 70px;
      --nav-item-height: 50px;
    }

    body{
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background:#f8f9fa;
    }

    .sidebar{
      position:fixed; top:0; left:0;
      height:100vh; width:var(--sidebar-width);
      background:linear-gradient(180deg,#2c3e50 0%,#34495e 100%);
      transition: width .25s ease, transform .25s ease;
      z-index:1000; overflow-x:hidden;
    }

    .sidebar .logo{
      padding:16px 18px;
      border-bottom:1px solid rgba(255,255,255,.08);
      display:flex; align-items:center; justify-content:space-between;
      color:#fff;
    }
    .logo .logo-icon{ font-size:22px; line-height:1; }
    .logo .logo-text{ font-weight:600; white-space:nowrap; }

    .sidebar-nav{ padding:10px 0; }

    .sidebar-nav .nav-item{ margin:6px 10px; }

    .sidebar-nav .nav-link{
      display:flex; align-items:center; gap:12px;
      padding:12px 14px;
      color:rgba(255,255,255,.85);
      text-decoration:none; border-radius:8px;
      transition: background .2s ease,color .2s ease;
      white-space:nowrap;
      height:var(--nav-item-height);
    }

    .sidebar-nav .nav-link i{
      font-size:18px;
      width:24px;
      text-align:center;
      flex:0 0 24px;
    }

    .sidebar-nav .nav-link:hover{ background:rgba(255,255,255,.10); color:#fff; }
    .sidebar-nav .nav-link.active{ background:#3498db; color:#fff; }

    .nav-text{ display:inline-block; }

    /* Main content */
    .main-content{
      margin-left:var(--sidebar-width);
      transition: margin-left .25s ease;
      min-height:100vh;
      padding:20px;
    }

    .top-navbar{
      background:#fff; box-shadow:0 2px 10px rgba(0,0,0,.08);
      padding:15px 20px; margin-bottom:20px;
      border-radius:10px;
    }

    .toggle-btn{
      background:none; border:none; font-size:20px; color:#2c3e50; cursor:pointer;
    }

    .dashboard-card{
      background:#fff; border-radius:10px;
      box-shadow:0 2px 10px rgba(0,0,0,.08);
      padding:25px; margin-bottom:25px;
      transition: transform .15s ease;
    }
    .dashboard-card:hover{ transform:translateY(-2px); }

    .stat-card{
      text-align:center;
      background:linear-gradient(135deg,#3498db,#2980b9);
      color:#fff; border-radius:10px; padding:30px 20px; margin-bottom:20px;
    }
    .stat-card.success{ background:linear-gradient(135deg,#27ae60,#229954); }
    .stat-card.warning{ background:linear-gradient(135deg,#f39c12,#e67e22); }
    .stat-card.danger{ background:linear-gradient(135deg,#e74c3c,#c0392b); }

    .stat-number{ font-size:2rem; font-weight:700; margin-bottom:6px; }
    .stat-label{ opacity:.9; }

    /* Sidebar collapsed */
    .sidebar.collapsed{ width:var(--sidebar-width-collapsed); }
    .sidebar.collapsed .logo{ justify-content:center; }
    .sidebar.collapsed .logo .logo-text{ display:none !important; }
    .sidebar.collapsed .nav-item{ margin:6px 0; text-align:center; }
    .sidebar.collapsed .nav-link{ justify-content:center; width:var(--sidebar-width-collapsed); padding:12px 0; gap:0; margin:0 auto; }
    .sidebar.collapsed .nav-link i{ margin:0 !important; font-size:20px; }
    .sidebar.collapsed .nav-text{ display:none !important; }
    .main-content.expanded{ margin-left:var(--sidebar-width-collapsed); }

    /* Mobile */
    @media (max-width:768px){
      .sidebar{ transform:translateX(-100%); width:var(--sidebar-width); }
      .sidebar.mobile-open{ transform:translateX(0); }
      .main-content{ margin-left:0; }
      .main-content.expanded{ margin-left:0; }

      .mobile-overlay{
        position:fixed; inset:0; background:rgba(0,0,0,.5);
        z-index:999; display:none;
      }
      .mobile-overlay.show{ display:block; }

      .logo-close-btn{
        display:flex;
        align-items:center;
        justify-content:center;
        cursor:pointer;
        font-size:20px;
      }

      .search-box.mobile{
        display:block !important;
        margin-top:10px;
      }
    }
  </style>
</head>
<body>
  <!-- Mobile Overlay -->
  <div class="mobile-overlay" id="mobileOverlay"></div>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="logo">
      <div class="d-flex align-items-center gap-2">
        <i class="bi bi-speedometer2 logo-icon"></i>
        <span class="logo-text">AdminPro</span>
      </div>
      <span class="logo-close-btn d-md-none" id="closeSidebar"><i class="bi bi-x"></i></span>
    </div>

    <nav class="sidebar-nav">
      <div class="nav-item">
        <a href="#" class="nav-link active"><i class="bi bi-house-door"></i><span class="nav-text">Dashboard</span></a>
      </div>
      <div class="nav-item">
        <a href="#" class="nav-link"><i class="bi bi-people"></i><span class="nav-text">Users</span></a>
      </div>
      <div class="nav-item">
        <a href="#" class="nav-link"><i class="bi bi-box"></i><span class="nav-text">Products</span></a>
      </div>
      <div class="nav-item">
        <a href="#" class="nav-link"><i class="bi bi-graph-up"></i><span class="nav-text">Analytics</span></a>
      </div>
      <div class="nav-item">
        <a href="#" class="nav-link"><i class="bi bi-cart"></i><span class="nav-text">Orders</span></a>
      </div>
      <div class="nav-item">
        <a href="#" class="nav-link"><i class="bi bi-gear"></i><span class="nav-text">Settings</span></a>
      </div>
      <div class="nav-item">
        <a href="#" class="nav-link"><i class="bi bi-question-circle"></i><span class="nav-text">Help</span></a>
      </div>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content" id="mainContent">
    <!-- Top Navbar -->
  <div class="top-navbar d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center p-2">
  <div class="d-flex w-100 align-items-center justify-content-between">
    <button class="toggle-btn me-2" id="toggleBtn"><i class="bi bi-list"></i></button>

    <!-- Desktop Search (md and up) -->
    <div class="d-none d-md-flex w-50">
      <div class="input-group">
        <input type="text" class="form-control rounded-pill" placeholder="Search..." style="padding-left:15px;">
        <button class="btn btn-primary rounded-pill ms-2" type="button"><i class="bi bi-search"></i></button>
      </div>
    </div>

    <div class="d-flex align-items-center ms-auto">
      <div class="dropdown me-2">
        <button class="btn btn-light position-relative" type="button" data-bs-toggle="dropdown">
          <i class="bi bi-bell"></i>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">3</span>
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#">New user registered</a></li>
          <li><a class="dropdown-item" href="#">Order #1234 completed</a></li>
          <li><a class="dropdown-item" href="#">System update available</a></li>
        </ul>
      </div>

      <div class="dropdown">
        <button class="btn btn-light d-flex align-items-center" type="button" data-bs-toggle="dropdown">
          <img src="https://static.vecteezy.com/system/resources/previews/032/176/191/non_2x/business-avatar-profile-black-icon-man-of-user-symbol-in-trendy-flat-style-isolated-on-male-profile-people-diverse-face-for-social-network-or-web-vector.jpg" class="rounded-circle me-2" alt="Avatar" height="40px">
          <i class="bi bi-chevron-down ms-2"></i>
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>Profile</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Settings</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="{% url 'dashboard_logout' %}"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Mobile Search Bar (sm and xs) -->
  <div class="search-box w-100 mt-2 d-md-none mobile">
    <div class="input-group">
      <input type="text" class="form-control rounded-pill" placeholder="Search..." style="padding-left:15px;">
      <button class="btn btn-primary rounded-pill ms-2" type="button"><i class="bi bi-search"></i></button>
    </div>
  </div>
</div>

    {% block content %}
        
    {% endblock content %}
        
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const sidebar = document.getElementById('sidebar');
      const mainContent = document.getElementById('mainContent');
      const toggleBtn = document.getElementById('toggleBtn');
      const closeSidebar = document.getElementById('closeSidebar');
      const mobileOverlay = document.getElementById('mobileOverlay');

      // Toggle sidebar
      toggleBtn.addEventListener('click', function () {
        if (window.innerWidth <= 768) {
          sidebar.classList.toggle('mobile-open');
          mobileOverlay.classList.toggle('show');
        } else {
          sidebar.classList.toggle('collapsed');
          mainContent.classList.toggle('expanded');
        }
      });

      // Close sidebar (X button)
      closeSidebar.addEventListener('click', function () {
        sidebar.classList.remove('mobile-open');
        mobileOverlay.classList.remove('show');
      });

      // Close overlay
      mobileOverlay.addEventListener('click', function () {
        sidebar.classList.remove('mobile-open');
        mobileOverlay.classList.remove('show');
      });

    });
  </script>
</body>
</html>
